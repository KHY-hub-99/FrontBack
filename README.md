# 📋 게시판 프로젝트 (Node.js + Express + MySQL)

본 프로젝트는 Node.js 환경에서 Express 프레임워크를 사용하여 구현된 간단한 웹 게시판 애플리케이션입니다. 사용자 인증 (로그인/회원가입)과 게시글 CRUD (작성, 조회, 수정, 삭제) 기능을 지원합니다.

## 🚀 주요 기술 스택

| 구분             | 기술                   | 설명                                   |
| :--------------- | :--------------------- | :------------------------------------- |
| **백엔드**       | **Node.js, Express**   | 서버 환경 및 라우팅 프레임워크         |
| **데이터베이스** | **MySQL**              | 데이터 저장 및 관리                    |
| **인증**         | **JWT (jsonwebtoken)** | 사용자 인증 토큰 발급 및 검증          |
| **보안**         | **bcrypt**             | 비밀번호 해싱 처리                     |
| **프론트엔드**   | HTML, CSS, JavaScript  | 클라이언트 측 UI 및 API 요청 로직 구현 |

---

## 📂 프로젝트 구조 및 역할

### 백엔드 (Node.js)

| 파일명             | 역할              | 상세 설명                                                                                |
| :----------------- | :---------------- | :--------------------------------------------------------------------------------------- |
| `app.mjs`          | **메인 서버**     | Express 서버 설정, 라우터 연결. 모든 요청의 진입점                                       |
| `middleware.mjs`   | **인증 미들웨어** | 요청 헤더의 `Authorization` 토큰을 검증하고, 유효한 경우 `req.user`에 사용자 정보를 저장 |
| `authRouter.mjs`   | **인증 라우터**   | 회원가입 (`/auth/signup`) 및 로그인 (`/auth/login`) 엔드포인트 구현                      |
| `postRouter.mjs`   | **게시글 라우터** | 게시글 CRUD 엔드포인트 구현 (인증이 필요한 API는 `authenticateToken` 미들웨어 적용)      |
| `authServices.mjs` | **인증 서비스**   | DB 연동: 사용자 조회, `bcrypt`를 이용한 비밀번호 비교/해싱, JWT 토큰 생성 로직 구현      |
| `postServices.mjs` | **게시글 서비스** | DB 연동: 게시글 작성, 조회, **작성자 확인 후 수정/삭제** 로직 구현                       |

### 프론트엔드 (HTML)

| 파일명        | 역할            | 상세 설명                                                                                                  |
| :------------ | :-------------- | :--------------------------------------------------------------------------------------------------------- |
| `write.html`  | **게시글 작성** | `POST /post/write` API를 호출하여 새로운 게시글을 작성하는 폼                                              |
| `detail.html` | **게시글 상세** | `GET /posts/:id`를 통해 상세 내용을 조회하며, 로그인 사용자와 **작성자가 일치할 때만** 수정/삭제 버튼 표시 |
| `update.html` | **게시글 수정** | `PUT /posts/:id` API를 호출하여 기존 게시글을 수정하는 폼                                                  |

---

## 💻 API 엔드포인트 목록

| 기능            | HTTP 메서드 | 엔드포인트     | 인증 | 설명                                  |
| :-------------- | :---------- | :------------- | :--- | :------------------------------------ |
| **회원가입**    | `POST`      | `/auth/signup` | ❌   | 신규 사용자 등록                      |
| **로그인**      | `POST`      | `/auth/login`  | ❌   | JWT 토큰 발급                         |
| **로그아웃**    | `POST`      | `/auth/logout` | ❌   | 토큰 제거                             |
| **게시글 작성** | `POST`      | `/post/write`  | ⭕   | 새로운 게시글 등록                    |
| **전체 조회**   | `GET`       | `/posts`       | ❌   | 모든 게시글 목록 조회                 |
| **단일 조회**   | `GET`       | `/posts/:id`   | ❌   | 특정 게시글 상세 조회                 |
| **게시글 수정** | `PUT`       | `/posts/:id`   | ⭕   | 특정 게시글 내용 수정 (작성자만 가능) |
| **게시글 삭제** | `DELETE`    | `/posts/:id`   | ⭕   | 특정 게시글 삭제 (작성자만 가능)      |

---

## ⚙️ 설치 및 실행 방법

### 1. 의존성 설치

프로젝트 폴더에서 다음 명령을 실행하여 필요한 Node.js 패키지들을 설치합니다.

```bash
npm install express jsonwebtoken bcrypt mysql2 cors
```

### 2. 환경 설정

DB 설정: `db/database.mjs` 파일에 MySQL 접속 정보를 설정해야 합니다.

JWT 비밀 키: `middleware.mjs` 또는 `authServices.mjs` 파일 내에 있는 JWT 비밀 키(`"asdasdw!@#"`)를 실제 서비스에서는 강력하고 안전한 값으로 변경해야 합니다.

### 3. 서버 실행

```bash
node app.mjs
```

서버가 정상적으로 실행되면 `8080 포트 서버 구동 중...` 메시지를 확인할 수 있습니다.

### 4. 접속

웹 브라우저에서 `http://localhost:8080/`으로 접속하여 서비스를 이용할 수 있습니다. (정적 파일은 `/public` 폴더에 위치한다고 가정합니다.)
